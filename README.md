# 备份原理

Linux系统对所有文件具有访问权限，压缩系统关键文件实现备份，在根目录解压备份文件还原

压缩时排除的文件夹
- `/lost+found` 错误关机时产生的临时文件
- `/mnt` 临时挂载其它文件系统的目录
<!--
比如虚拟机共享文件时就挂载在该目录下
-->
- `/proc` 虚拟文件夹，该文件夹存放的不是真实的文件，该文件夹内容存放在内存中
- `/sys` 类似`/proc`，仅在Linux>=2.6的版本中存在


<!--
关于`/proc`和`/sys`：

    Everything is fie in Unix
    Files = Unix
    Files + Process = Linux
-->

# 手册

使用`tar.gz`格式压缩，可修改压缩和解压时`tar`命令的`z`参数更改压缩格式。详情见`tar`命令手册

**使用之前，应当将`bkr.sh`脚本移动到根目录下**

备份系统。执行该命令后将在根目录下生成备份文件`system_backup.tar.gz`
```
sudo ./bkr.sh -b
```
恢复系统。解压备份文件到根目录。
```
sudo ./bkr.sh -r
```
查看帮助
```
sudo ./bkr.sh -h
```

# 一些小问题
- 输入多个参数时，脚本只会识别第一个脚本且无相应报错提示